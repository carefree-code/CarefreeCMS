# 模板编辑器使用指南

## 概述

全新升级的模板编辑器基于 Monaco Editor（VS Code 同款编辑器内核），提供专业级的代码编辑体验。

## 主要功能

### 1. 多标签页管理

**打开多个文件**
- 点击左侧文件树中的文件即可在新标签页中打开
- 已打开的文件会自动切换到对应标签页

**标签页操作**
- 点击标签切换文件
- 点击标签上的 `×` 关闭文件
- 点击标签栏右侧的菜单图标进行批量操作：
  - 关闭其他标签
  - 关闭右侧标签
  - 关闭所有标签
  - 关闭未修改的标签

**修改状态指示**
- 文件修改后标签会显示圆点 `●`
- 关闭时会提示是否保存

### 2. 代码编辑功能

**语法高亮**
- 支持 HTML、CSS、JavaScript、PHP、JSON、Markdown 等多种语言
- 自动识别文件类型

**智能提示**
- 代码自动完成
- 语法错误提示
- 实时错误检测

**代码辅助**
- 代码折叠
- 多光标编辑
- 自动缩进
- 括号匹配

**查找和替换**
- `Ctrl+F` 打开查找
- `Ctrl+H` 打开替换
- 支持正则表达式
- 支持大小写敏感

### 3. 工具栏功能

#### 文件操作
- **新建** - 创建新文件
- **打开** - 从文件树选择文件
- **保存** - 保存当前文件 (Ctrl+S)
- **全部保存** - 保存所有修改的文件 (Ctrl+Shift+S)

#### 编辑工具
- **格式化** - 自动格式化代码 (Ctrl+Shift+F)
- **对比** - 对比两个文件的差异
- **缩略图** - 切换代码缩略图显示

#### 其他工具
- **重载** - 重新加载文件内容
- **历史** - 查看和恢复历史版本

### 4. 编辑器设置

**位于工具栏右侧：**
- **语言类型** - 显示当前文件语言
- **光标位置** - 显示行号和列号
- **自动换行** - 开关自动换行

### 5. 文件树功能

**搜索文件**
- 在搜索框输入关键词快速过滤文件
- 支持模糊匹配

**文件信息**
- 彩色图标显示文件类型
- 显示文件大小

**新建操作**
- 点击"新建"下拉菜单
- 支持新建文件、文件夹（开发中）、上传文件（开发中）

### 6. 文件对比功能

**使用步骤：**
1. 打开至少两个文件
2. 点击工具栏的"对比"按钮
3. 在弹出对话框中选择要对比的左右文件
4. 查看高亮显示的差异

**对比视图：**
- 左右并排显示
- 差异高亮
- 支持滚动同步

### 7. 文件历史和备份

**查看历史：**
- 点击"历史"按钮
- 查看所有备份版本

**恢复版本：**
- 选择要恢复的版本
- 点击"恢复"按钮
- 可以先预览再决定是否恢复

## 快捷键

### 文件操作
| 功能 | 快捷键 |
|------|--------|
| 保存当前文件 | `Ctrl+S` |
| 保存所有文件 | `Ctrl+Shift+S` |
| 关闭当前标签 | `Ctrl+W` |

### 编辑操作
| 功能 | 快捷键 |
|------|--------|
| 格式化代码 | `Ctrl+Shift+F` |
| 查找 | `Ctrl+F` |
| 替换 | `Ctrl+H` |
| 撤销 | `Ctrl+Z` |
| 重做 | `Ctrl+Y` |
| 全选 | `Ctrl+A` |
| 注释/取消注释 | `Ctrl+/` |
| 向上/下移动行 | `Alt+↑` / `Alt+↓` |
| 复制行 | `Shift+Alt+↑` / `Shift+Alt+↓` |
| 删除行 | `Ctrl+Shift+K` |

### 光标和选择
| 功能 | 快捷键 |
|------|--------|
| 添加多个光标 | `Alt+Click` |
| 选择所有匹配项 | `Ctrl+Shift+L` |
| 选择当前词 | `Ctrl+D` |
| 跳转到行 | `Ctrl+G` |
| 跳转到文件开头 | `Ctrl+Home` |
| 跳转到文件结尾 | `Ctrl+End` |

### 代码折叠
| 功能 | 快捷键 |
|------|--------|
| 折叠 | `Ctrl+Shift+[` |
| 展开 | `Ctrl+Shift+]` |
| 折叠所有 | `Ctrl+K Ctrl+0` |
| 展开所有 | `Ctrl+K Ctrl+J` |

## 文件类型支持

### 完全支持
- HTML (.html, .htm)
- CSS (.css)
- JavaScript (.js)
- JSON (.json)
- Markdown (.md)
- PHP (.php)
- XML (.xml)

### 语法高亮
- SCSS (.scss)
- LESS (.less)
- SVG (.svg)

### 纯文本
- 其他未识别的文件类型

## 最佳实践

### 1. 定期保存
- 使用 `Ctrl+S` 随时保存
- 关闭文件前会自动提示保存

### 2. 使用代码格式化
- 保存前使用 `Ctrl+Shift+F` 格式化代码
- 保持代码风格一致

### 3. 文件对比
- 修改重要文件前可以对比原始版本
- 合并多人修改时使用对比功能

### 4. 历史版本
- 重要修改前查看历史版本
- 出现问题时可以快速回滚

### 5. 多标签管理
- 关联文件一起打开方便切换
- 使用"关闭未修改"保持工作区整洁

## 注意事项

1. **文件大小限制** - 建议单个文件不超过 1MB
2. **浏览器兼容** - 推荐使用 Chrome、Edge、Firefox 最新版本
3. **自动保存** - 系统不会自动保存，需手动保存
4. **备份机制** - 每次保存都会自动创建备份
5. **性能优化** - 打开多个大文件可能影响性能

## 常见问题

### Q: 如何恢复误删的内容？
A: 点击"历史"按钮，选择之前的版本恢复。

### Q: 代码没有高亮显示？
A: 检查文件扩展名是否正确，Monaco Editor 会根据扩展名自动识别语言。

### Q: 如何对比两个版本？
A: 打开两个文件，点击"对比"按钮，选择要对比的文件。

### Q: 快捷键不生效？
A: 确保光标在编辑器区域内，某些快捷键可能被浏览器拦截。

### Q: 如何切换主题？
A: 当前使用深色主题，后续版本将支持主题切换。

### Q: 文件内容加载不出来？
A: 请按照以下步骤排查：
1. 打开浏览器开发者工具（F12）查看 Console 标签页
2. 查看是否有报错信息
3. 确认 API 请求是否成功返回数据
4. 尝试刷新页面重新加载
5. 如果问题持续存在，请清除浏览器缓存后重试

## 技术支持

如有问题或建议，请联系技术支持。

---

**版本:** v1.2.0
**更新时间:** 2025-10-23
